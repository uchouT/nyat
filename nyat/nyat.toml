# nyat batch -c nyat.toml
#
# [default]   Inherited by all tasks (all fields optional).
# [task.*]    Task-level fields override defaults.

[default]
stun-host = "turn.cloudflare.com"
stun-port = 3478
remote-host = "example.com"
remote-port = 80
keepalive = 30
ipv6 = false
exec = "/path/to/script.sh"
iface = "eth0"
fwmark = 100
force-reuse = false

[task.web]
mode = "tcp"
bind = "0.0.0.0:4070"
exec = "/usr/local/bin/update-dns.sh"

[task.httpbin]
mode = "tcp"
bind = "0.0.0.0:4071"
remote-host = "httpbin.org"
remote-port = 80
keepalive = 10

[task.stun-google]
mode = "udp"
bind = "0.0.0.0:4072"
stun-host = "stun.l.google.com"
stun-port = 19302
count = 3

[task.v6-probe]
mode = "udp"
bind = "[::]:4073"
ipv6 = true
